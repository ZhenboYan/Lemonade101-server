html
  head 
    script(src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.4.0/chart.min.js")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    link(rel="stylesheet" href="https://lemonade101.page/base/basecss")
    script(src="https://unpkg.com/swup@latest/dist/swup.min.js")

    script.
      window.onload = function() {
          if(!window.location.hash) {
              window.location = window.location + '#loaded';
              window.location.reload();
          }
      }
      
  
  main(id="swup" class="transition-fade1")
    body
      header(class="main-header")
          nav(class="nav main-nav")
              ul
                li
                  a(href="https://lemonade101.page") Home
          h1(class="title-name-smaller") All Data 
      nav(class="nav main-nav")

    script.
      console.log("Please Refresh the Page");

    div(id="script") 
      script
    
      title All Data | Lemonade101
      div(class="table")
        script(type="text/javascript" src="https://www.gstatic.com/charts/loader.js")
        script(type="text/javascript").
          google.charts.load('current', {'packages':['table']});
          google.charts.setOnLoadCallback(drawTable);
          var obj = !{JSON.stringify(obj)};

          function drawTable() {
            var data = new google.visualization.DataTable();
            data.addColumn('string', 'Day');
            data.addColumn('string', 'Hour');
            data.addColumn('string', 'Food Weights');
            data.addColumn('string', 'Status');
            data.addColumn('number', 'Consumption/Feed');
            data.addColumn('number', 'Calories');
            data.addColumn('number', 'Duration (s)');
            for(let i = 1; i < obj.length;i++){
              data.addRows([
                [String(obj[obj.length-i].Day),
                String(obj[obj.length-i].Hour),
                String(obj[obj.length-i].Food_Weight) + "g",
                String(obj[obj.length-i].Status),
                Number(obj[obj.length-i].Change),
                obj[obj.length-i].Change*5,
                Number(obj[obj.length-i].Duration),
                ]
              ]);
            }

            var table = new google.visualization.Table(document.getElementById('table_div'));
            table.draw(data, {showRowNumber: true, width: '100%', height: '90%'});
          }
  
    body
      div(id="table_div")
    
    script.
      const swup = new Swup;
      const init = () =>{
          if(!window.location.hash) {
                  window.location = window.location + '#loaded';
                  window.location.reload();
          }
      }
      swup.on('contentReplaced', init);